{% extends "base.html" %}
{% block title %}Questions - AbaQuiz Admin{% endblock %}
{% block content %}
<!-- Breadcrumb -->
<nav aria-label="breadcrumb" class="mb-4">
    <ol class="flex items-center gap-2 text-sm">
        <li><a href="/" class="text-text-muted hover:text-text-primary transition-colors">Home</a></li>
        <li class="text-text-disabled">/</li>
        <li class="text-text-primary font-medium">Questions</li>
    </ol>
</nav>

<div class="flex items-baseline gap-4 mb-6">
    <h1 class="text-2xl font-semibold tracking-tight text-text-primary">Questions</h1>
    <span class="text-sm text-text-muted">{{ total }} questions in pool</span>
</div>

<!-- Filters -->
<div class="mb-6" x-data="{
    search: '{{ search }}',
    content_area: '{{ content_area }}',
    difficulty: '{{ difficulty }}'
}">
    <div class="flex flex-wrap gap-3 items-center">
        <select name="content_area"
                class="select min-w-[200px]"
                x-model="content_area"
                hx-get="/questions/cards"
                hx-trigger="change"
                hx-target="#questions-content"
                hx-include="[name='search'],[name='difficulty']">
            <option value="">All Content Areas</option>
            {% for area in content_areas %}
            <option value="{{ area }}" {% if content_area == area %}selected{% endif %}>{{ area }}</option>
            {% endfor %}
        </select>

        <select name="difficulty"
                class="select min-w-[160px]"
                x-model="difficulty"
                hx-get="/questions/cards"
                hx-trigger="change"
                hx-target="#questions-content"
                hx-include="[name='search'],[name='content_area']">
            <option value="">All Difficulties</option>
            <option value="easy" {% if difficulty == 'easy' %}selected{% endif %}>Easy (1-2)</option>
            <option value="medium" {% if difficulty == 'medium' %}selected{% endif %}>Medium (3)</option>
            <option value="hard" {% if difficulty == 'hard' %}selected{% endif %}>Hard (4-5)</option>
        </select>

        <input type="search"
               name="search"
               class="input flex-1 min-w-[200px]"
               placeholder="Search questions..."
               x-model="search"
               hx-get="/questions/cards"
               hx-trigger="keyup changed delay:300ms"
               hx-target="#questions-content"
               hx-include="[name='content_area'],[name='difficulty']"
               value="{{ search }}">
    </div>
</div>

<!-- Questions List -->
<div id="questions-content">
    {% include "partials/question_cards.html" %}
</div>
{% endblock %}
